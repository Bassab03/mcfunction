{
	"scopeName": "source.mcfunction",
	"name": "mcfunction",
	"fileTypes": ["mcfunction"],
	"patterns": [
		{
			"match": "(@[parse])(\\[(?:[\\w_]+=[\\w_]*,)*[\\w_]+=[\\w_]*\\])?",
			"captures": {
				"1": {
					"name": "target"
				},
				"2": {
					"name": "argument",
					"patterns": [
						{
							"match": "([\\w_]+)=([\\w_]*)",
							"captures": {
								"1": {
									"name": "name"
								},
								"2": {
									"name": "value"
								}
							}
						}
					]
				}
			},
			"name": "selector"
		},
		{
			"begin": "{",
			"end": "}",
			"patterns": [
				{
					"include": "$self"
				},
				{
					"match": "((?:\"[^\"\\n]*\")|(?:[\\w_]+))[ \\t]*:",
					"captures":{
						"1": {
							"name": "name"
						}
					}
				},
				{
					"begin": ":[ \\t]*",
					"match": "\"[^\\n\"]*\"",
					"captures": {
						"0": {
							"name": "value.string"
						}
					}
				},
				{
					"begin": ":[ \\t]*",
					"match": "[\\d]+(?:\\.[\\d]+)?",
					"captures": {
						"0": {
							"name": "value.number"
						}
					}
				}
			],
			"name": "nbt"
		},
		{
			"match": "^(?:advancement|blockdata|clear|clone|defaultgamemode|difficulty|effect|enchant|entitydata|execute|fill|funtion|gamemode|gamerule|give|kill|locate|particle|playsound|recipe|reload|replaceitem|say|scoreboard|setblock|setworldspawn|spreadplayers|stats|stopsound|summon|teleport|tell|tellraw|testfor|testforblock|testforblocks|time|title|toggledownfall|tp|trigger|weather|worldborder|xp)",
			"name": "command"
		},
		{
			"match": "#.*",
			"name": "comment"
		},
		{
			"match": "(?: (?:(?:~(?:-?\\d+(?:\\.\\d+)?)?)|(?:-?\\d+(?:\\.\\d+)?))){3}",
			"name": "coord"
		},
		{
			"match": "^/",
			"name": "error.fslash"
		}
	]
}
